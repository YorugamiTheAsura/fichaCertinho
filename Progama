package aplicacao;

import java.util.ArrayList;
import java.util.Scanner;
import entidades.Carro;
import entidades.Moto;
import entidades.Veiculos;
import entidades.Concessionaria;
import servico2.ProcessoSeguro;
import servico2.SemSeguro;
import servico2.ServicoSeguroAutoYouse;
import servico2.ServicoSeguroTokioMarine;

public class Programa {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);
        ArrayList<Veiculos> veiculos = new ArrayList<>();
        Concessionaria conse = new Concessionaria(veiculos);

        ProcessoSeguro processoSeguro = null;

        // Inicialização do serviço de seguro (somente um tipo por simplicidade)
        

        int opcao;

        do {
            System.out.println("** Concessionária **");
            System.out.println("1 - Incluir veículo");
            System.out.println("2 - Alterar veículo");
            System.out.println("3 - Excluir veículo");
            System.out.println("4 - Listar veículos");
            System.out.println("5 - Sair");
            System.out.print("Escolha uma opção: ");
            opcao = sc.nextInt();

            switch (opcao) {
                
            
            case 1:
                  
                	 System.out.println("Incluir veículo:");
                     System.out.println("1 - Carro");
                     System.out.println("2 - Moto");
                     System.out.print("Escolha o tipo de veículo: ");
                     int tipo = sc.nextInt();
                    System.out.println("Escolha o seguro do seu Veiculo (preco anual): ");
                    System.out.println("1-Seguro Tokyo Marine");
                    System.out.println("2-Seguro Auto Youse"); 
                    System.out.println("3-Sem Seguro"); 
                    int tiposeg = sc.nextInt();
                                                      
                     System.out.print("Placa: ");
                     String placa = sc.next();

                     System.out.print("Marca: ");
                     String marca = sc.next();

                     System.out.print("Ano: ");
                     int ano = sc.nextInt();

                     System.out.print("Preço: ");
                     double preco = sc.nextDouble();
                     double precoTotal = 0;
                 
                     if(tiposeg ==1) {
                     processoSeguro = new ProcessoSeguro(new ServicoSeguroTokioMarine());
                      precoTotal = processoSeguro.CalculoSeguroAnual(preco, ano);
                     }
                     
                     else if(tiposeg ==2) {
                         processoSeguro = new ProcessoSeguro(new ServicoSeguroAutoYouse());
                          precoTotal = processoSeguro.CalculoSeguroAnual(preco, ano);
                         }
                     
                     else if(tiposeg ==3) {
                    	 processoSeguro = new ProcessoSeguro(new SemSeguro());
                         precoTotal = processoSeguro.CalculoSeguroAnual(preco, ano);
                     }
                     
                 
                     
                     if (tipo == 1) {
                         System.out.print("Portas: ");
                         int portas = sc.nextInt();

                         System.out.print("Modelo: ");
                         sc.nextLine(); // Consumir quebra de linha
                         String modelo = sc.nextLine();

                         Carro carro = new Carro(placa, marca, ano, preco, precoTotal, modelo, portas);
                         veiculos.add(carro);

                     } else if (tipo == 2) {
                         System.out.print("Cilindradas: ");
                         int cilindradas = sc.nextInt();

                         System.out.print("Modelo: ");
                         sc.nextLine(); // Consumir quebra de linha
                         String modelo = sc.nextLine();

                         Moto moto = new Moto(placa, marca, ano, preco, precoTotal, modelo, cilindradas);
                         veiculos.add(moto);

                     } else {
                         System.out.println("Tipo inválido!");
                     }

                     System.out.println("Veículo incluído com sucesso!");
                	
                    break;

                case 2:
                	
                	
                       //processo de alterar veiculo
                    
                    
                    
                    break;

                case 3:
                   
                	System.out.print("Digite a placa do veiculo a ser excluido:");
                	 sc.nextLine(); // Consumir quebra de linha
                     placa = sc.nextLine();

                    Veiculos veiculo = conse.buscarVeiculoPorPlaca(placa);

                    if (veiculo != null) {
                        veiculos.remove(veiculo);
                        System.out.println("Veículo excluído com sucesso!");
                    } else {
                        System.out.println("Veículo não encontrado.");
                    }
                	
                	
                	
                    break;

                case 4:
                	
                	  System.out.println("Digite o numero para qual forma gostaria de imprimir e ordenar a concessionaria: ");
                	  System.out.println("1-Ordenadas por ordem alfabetica das placas: ");
                	  System.out.println("2-Ordenadas por carros primeiro depois motos: ");
                	  int opcaoImpressao = sc.nextInt();
                	
                	  if(opcaoImpressao ==1 ) {
                         
                         conse.ListarVeiculosPlaca(veiculos);
                	  }
                	  
                	  if(opcaoImpressao ==2) {
                		  conse.ListarVeiculosSeparados();
                	  }
                	  
                    break;

                case 5:
                    System.out.println("Encerrando o programa...");
                    break;

                default:
                    System.out.println("Opção inválida! Tente novamente.");
            }
        } while (opcao != 5);

        sc.close();
    }
}
      

	
